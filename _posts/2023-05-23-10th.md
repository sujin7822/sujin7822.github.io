---
layout: posts
title:  "2023-05-23 금융분석데이터 스터디 4주차 !!"
---

# CH 12. 확률 과정

# 난수 생성

# 시뮬레이션
## 1. 확률 변수의 시뮬레이션
## 2. 확률 과정의 시뮬레이션
## 3. 분산 감소

# 가치 평가
## 1. 유러피안 방식
## 2. 아메리칸 방식

# 위험 측도
## 1. VaR
## 2. CVA

# 난수 생성
난수를 생성하는 것은 모든 시뮬레이션 작업의 근간

난수를 생성하기 위해 numpy.random 함수 사용

금융공학에서 표준정규분포를 사용하는 것에 대해서는 이견이 많지만, 표준정규분포는 분석이나 수치해석 분야에서 필수불가결한 도구고 가장 많이 사용되는 분포

많은 금융공학 모향이 직간접적으로 정규분포나 로그 정규분포에 의지하고 있고, 정규분포 가정이 없는 다른 많은 금융공학 모형도 시뮬레이션 목적에서는 정규분포를 사용

# 시뮬레이션
몬테카를로 시뮬레이션은 금융공학에서 가장 중요하고 널리 쓰이는 수치해석 방법 중 하나

그 이유는 몬테카를로 시뮬레이션이 적분 등의 수학식이나 금융 파생상품의 가치를 계산할 때 가장 유연한 수치 해석 방법론이기 때문
## 1. 확률 변수의 시뮬레이션
변수와 매개변수의 의미

날짜 T에서의 주가, 무위험 단기 이자율, 주가 S에 대한 고정 변동성(수익류르이 표준편차), 표준정규분포를 따르는 확률 변수

정규분포와 로그 정규분포 사용

두 시뮬레이션 결과의 통계치가 유사

약간의 차는 시뮬레이션에서 발생한 샘플링 오차

연속 확률 과정을 이산화 하는 과정에서 발생한 이산화 오차라는 유형의 오차도 일반적으로는 발생

## 2. 확률 과정의 시뮬레이션
확률 과정은 단순하게 말하면 확률 변수의 수열

각 단계의 샘플이 독립적이지 않고 이전의 결과들에 의존한다는 차이점

금융에서 사용되는 대부분의 확률 과정은 미래 값이 바로 전의 과거 값에만 의존하고 그보다 더 과거의 값이나 전체 경로에는 의존하지 않는 마코프 특성을 가짐

이러한 확률 과정을 무기억성 확률 과정이라고도 함

- 기하 브라운 운동 모형은 오일러 방식으로 정확히 이산화 할 수 있음

- 제곱근 확산형모형 : 단기 이자율이나 변동성 모형에 사용되는 평균 회귀 과정에서 제안한 모형

- 확률적 변동성 모형 : 상관계수를 통해 시장이 하락할 때 변동성이 증가하고 시장이 상승할 때 변동성이 감소하는 레버리지 효과를 설명하는 것 가능

- 점프확산 : 확률적 변동성과 레버리지 효과는 대다수의 시장에서 관찰할 수 있는 특징적인 현상, 자산 가격이나 변동성이 점프하는 

## 제곱근 확산 모형에 오일러 방식을 사용하는 것 좋음 => 상관관계를 간단하고 일관적으로 적용 가능하기에

## 3. 분산 감소
의사 난수를 생성하고 샘플의 수도 계속 달라지기에 통계적 특성을 충분하게 보이지 않을 수 있음

샘플 숫자가 클수록 통계치가 나아짐

표준정규분포의 처음 두 모멘트값을 개선하고 어렵지 않게 구현할 수 있는 분산 감소 방법이 존재

첫번째, 대조변수 사용하기
두번째, 모멘트 정합

# 가치 평가
조건부 청구권의 가치를 평가하는 것이 가장 중요한 응용
## 1. 유러피안 방식
정적인 시뮬레이션 결과 동적인 시뮬레이션 결과 비교
## 2. 아메리칸 방식
유러피안 옵션보다 더 복잡

최적 정지 문제 풀어야함

최소 자승 몬테카를로 방법

## 유러피안 옵션 가치는 아메리칸 옵션 가치의 하한이 된다. 두 옵션 가치의 차이는 조기 행사 프리미엄

# 위험 측도
## 1. VaR
가장 널리 사용되며 가장 논란이 많은 위험 측도

테일리스크를 제대로 파악하지 못하는 점에서 많은 비난

어떤 확률적인 신뢰도하에서 특정 시간 내에 발생할 수 있는 화폐로 환산한 포트폴리오나 단일 포지션의 손실 가능 금액을 의미

## 2. CVA
VaR에서 파생된 CVA로 신용 VaR는 거래 상대방이 이행의무를 다하지 않ㅇ르 수 있는 가능성을 고려한 위험 측도

파산의 경우 부도 확률과 손실 수준 가정 필요

## 마치며

이 장에서는 금융공학에서 몬테카를로 시뮬레이션을 응용하는 방법 다룸

난수를 생성하는 방법 살펴봄

확률 변수와 확률 과정을 시뮬레이션 해봄

유리피안 옵션과 아메리칸 옵션의 가치 평가와 VaR, CVA와 같은 위험 측도의 추정 방법을 배움

몬테카를로 시뮬레이션으로 아메리칸 옵션을 계산하는 것과 같이 계산량이 요구되는 작업에는 NumPy를 사용하는 것이 좋음
